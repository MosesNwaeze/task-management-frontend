<div class="main-wrapper ">

  <div *ngIf="preloader" class="overlay">
      <span
        aria-hidden="true"
        class="spinner-border spinner-border-xl text-primary preloader"
        role="status"
      >
      </span>

  </div>


  <div class="my-10 flex justify-between action-section ">

    <mat-form-field>
      <input
        matInput
        placeholder="Search..."

        (keydown)="filterCategory($event)"
      >
    </mat-form-field>

    <button
      type="button"
      class="add-button"
      (click)="addTask()"
    >
      Add Category
    </button>

  </div>


  <div>

    <h3 class="text-5xl h-1 text-blue-950">All Categories</h3>

    <table mat-table [dataSource]="categories" class="w-full">


      <ng-container matColumnDef="sn">
        <th mat-header-cell *matHeaderCellDef>S/N</th>
        <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1 }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Title</th>
        <td mat-cell *matCellDef="let element"> {{ element?.name }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element"> {{ element?.description }}</td>
      </ng-container>

      <ng-container matColumnDef="created-by">
        <th mat-header-cell *matHeaderCellDef>Created By</th>
        <td mat-cell *matCellDef="let element"> {{ element?.createdBy.name  }}</td>
      </ng-container>


      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let element">
          <button
            type="button"
            class="bg-green-900 text-white p-1 rounded w-[5rem] grid place-items-center m-3"
            (click)="update(element)"
          >
            <mat-icon>edit</mat-icon>
            Edit
          </button>

        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Detele</th>
        <td mat-cell *matCellDef="let element">
          <button
            type="button"
            class="bg-red-400 text-white p-1 rounded w-[5rem] grid place-items-center m-3"
            (click)="remove(element)"
          >
            <mat-icon>remove_circle</mat-icon>
            Remove
          </button>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[3,6, 12]"></mat-paginator>
  </div>


</div>
